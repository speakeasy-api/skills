# Diagnosis Tests
# These tests verify that skills help diagnose generation issues

tests:
  - name: diagnose-missing-operation-ids
    skill: diagnose-generation-failure
    type: diagnosis
    spec_file: fixtures/petstore-poor-naming.yaml
    task: |
      Analyze the OpenAPI spec and identify any issues that would affect SDK quality.
      Use speakeasy lint to help diagnose problems.
    expected_issues:
      - operationId
      - naming

  - name: diagnose-pagination-opportunity
    skill: diagnose-generation-failure
    type: diagnosis
    spec_file: fixtures/paginated-api.yaml
    task: |
      Analyze the OpenAPI spec for SDK generation opportunities.
      Identify any patterns that could benefit from Speakeasy extensions.
    expected_issues:
      - pagination
